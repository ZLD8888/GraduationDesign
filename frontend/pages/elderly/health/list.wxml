<view class="container">
  <!-- 时间范围选择 -->
  <view class="date-range">
    <picker mode="date" value="{{startDate}}" bindchange="handleStartDateChange">
      <view class="date-picker">
        <text class="label">开始日期：</text>
        <text>{{startDate || '请选择'}}</text>
      </view>
    </picker>
    <picker mode="date" value="{{endDate}}" bindchange="handleEndDateChange">
      <view class="date-picker">
        <text class="label">结束日期：</text>
        <text>{{endDate || '请选择'}}</text>
      </view>
    </picker>
    <button class="search-btn" bindtap="handleSearch">查询</button>
  </view>

  <!-- 健康数据图表 -->
  <view class="chart-container">
    <ec-canvas id="mychart" canvas-id="mychart" ec="{{ ec }}"></ec-canvas>
  </view>

  <!-- 健康记录列表 -->
  <view class="record-list">
    <view class="record-item" wx:for="{{records}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="record-time">{{item.recordTime}}</view>
      <view class="record-data">
        <view class="data-item">
          <text class="label">体温：</text>
          <text class="value">{{item.temperature}}℃</text>
        </view>
        <view class="data-item">
          <text class="label">血压：</text>
          <text class="value">{{item.bloodPressureSystolic}}/{{item.bloodPressureDiastolic}}mmHg</text>
        </view>
        <view class="data-item">
          <text class="label">心率：</text>
          <text class="value">{{item.heartRate}}次/分</text>
        </view>
        <view class="data-item">
          <text class="label">血糖：</text>
          <text class="value">{{item.bloodSugar}}mmol/L</text>
        </view>
      </view>
      <view class="record-note" wx:if="{{item.note}}">
        <text class="label">备注：</text>
        <text>{{item.note}}</text>
      </view>
    </view>
  </view>

  <!-- 添加按钮 -->
  <view class="add-btn" wx:if="{{isStaff}}" bindtap="goToAdd">
    <text class="add-icon">+</text>
  </view>
</view> 